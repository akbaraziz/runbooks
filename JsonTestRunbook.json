{"status":{},"contains_secrets":false,"product_version":"3.0.0.0","spec":{"description":"","resources":{"endpoint_definition_list":[],"client_attrs":{},"credential_definition_list":[],"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Task 1"}],"name":"6429bdff_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Task 1","attrs":{"script":"print(\"@@{OS}@@\")","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"c88e3544_runbook","main_task_local_reference":{"kind":"app_task","name":"6429bdff_dag"},"variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"EXEC_LOCAL","name":"Cluster","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"EXEC","attrs":{"script":"InputList = json.loads('''@@{Json_input}@@''')\nEnvList = [x for x in InputList if x['Site'] == \"@@{Site}@@\" ]\nOsList = [ x for x in EnvList if x['Environment'] == \"@@{Environment}@@\" ]\nAppList = [ x for x in OsList if x['OS'] == \"@@{OS}@@\" ]\nClstrList = [ x['Cluster'] for x in AppList if x['Application'] == \"@@{Application}@@\" ]\nprint(\",\".join(set(ClstrList)))","type":"EXEC","command_line_args":"","exit_status":[],"script_type":"static"}}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"EXEC_LOCAL","name":"Application","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"EXEC","attrs":{"script":"InputList = json.loads('''@@{Json_input}@@''')\nEnvList = [x for x in InputList if x['Site'] == \"@@{Site}@@\" ]\nOsList = [ x for x in EnvList if x['Environment'] == \"@@{Environment}@@\" ]\nAppList = [ x['Application'] for x in OsList if x['OS'] == \"@@{OS}@@\" ]\nprint(\",\".join(set(AppList)))","type":"EXEC","command_line_args":"","exit_status":[],"script_type":"static"}}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"EXEC_LOCAL","name":"OS","value":"","label":"","attrs":{"type":"LOCAL"},"editables":{"value":true},"is_hidden":false,"options":{"type":"EXEC","attrs":{"script":"InputList = json.loads('''@@{Json_input}@@''')\nEnvList = [x for x in InputList if x['Site'] == \"@@{Site}@@\" ]\nOsList = [ x['OS'] for x in EnvList if x['Environment'] == \"@@{Environment}@@\" ]\nprint(\",\".join(set(OsList)))","type":"EXEC","command_line_args":"","exit_status":[],"script_type":"static"}}},{"regex":{"should_validate":false,"value":"^.*$"},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"EXEC_LOCAL","name":"Environment","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"EXEC","attrs":{"script":"InputList=json.loads('''@@{Json_input}@@''')\nEnvList= [x['Environment'] for x in InputList if x['Site'] == \"@@{Site}@@\" ]\nprint(\",\".join(set(EnvList)))","type":"EXEC","command_line_args":"","exit_status":[],"script_type":"static"}}},{"regex":{"should_validate":false,"value":"^.*$"},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"EXEC_LOCAL","name":"Site","value":"","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"EXEC","attrs":{"script":"InputList=json.loads('''@@{Json_input}@@''')\nSiteList= [x['Site'] for x in InputList ]\nprint(\",\".join(set(SiteList)))","type":"EXEC","command_line_args":"","exit_status":[],"script_type":"static"}}},{"regex":{"should_validate":false,"value":"^(.|\\n)*$"},"val_type":"MULTILINE_STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"Json_input","value":"[\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Windows\",\n    \"Application\": \"App\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Windows\",\n    \"Application\": \"Web\",\n    \"Cluster\": \"Cluster2A|Cluster2B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Windows\",\n    \"Application\": \"Database\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Linux\",\n    \"Application\": \"App\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Linux\",\n    \"Application\": \"Web\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Linux\",\n    \"Application\": \"Database\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Windows\",\n    \"Application\": \"App\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Windows\",\n    \"Application\": \"Web\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Windows\",\n    \"Application\": \"Database\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Linux\",\n    \"Application\": \"App\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Linux\",\n    \"Application\": \"Web\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Hyderabad\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Linux\",\n    \"Application\": \"Database\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Windows\",\n    \"Application\": \"App\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Windows\",\n    \"Application\": \"Web\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Windows\",\n    \"Application\": \"Database\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Linux\",\n    \"Application\": \"App\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Linux\",\n    \"Application\": \"Web\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"CORP\",\n    \"OS\": \"Linux\",\n    \"Application\": \"Database\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Windows\",\n    \"Application\": \"App\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Windows\",\n    \"Application\": \"Web\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Windows\",\n    \"Application\": \"Database\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Linux\",\n    \"Application\": \"App\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Linux\",\n    \"Application\": \"Web\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  },\n  {\n    \"Site\": \"Jaipur\",\n    \"Environment\": \"DMZ\",\n    \"OS\": \"Linux\",\n    \"Application\": \"Database\",\n    \"Cluster\": \"CLuster1A|Cluster1B\"\n  }\n]","label":"","attrs":{"type":""},"editables":{"value":false},"is_hidden":true,"options":{"type":"PREDEFINED","choices":[]}}]}},"name":"JsonTestRunbook"},"api_version":"3.0","metadata":{"last_update_time":"1592318568311880","kind":"runbook","spec_version":18,"creation_time":"1592315575204428","name":"JsonTestRunbook"}}